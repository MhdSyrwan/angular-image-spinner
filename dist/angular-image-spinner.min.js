(function(){angular.module("imageSpinner",[]).value("version","0.1.0")}).call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};angular.module("imageSpinner").constant("imageSpinnerDefaultSettings",{lines:9,length:10,width:2,radius:3,corners:1,rotate:0,direction:1,color:"#000",speed:1,trail:10,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"}).directive("imageSpinner",["$window","imageSpinnerDefaultSettings",function(b,c){var d,e,f,g,h;return d=b.Image,f=function(){function b(b,e){var f,g=this;this.el=b,this.settings=e,this.hide=a(this.hide,this),null==e&&(e={}),e=angular.extend(e,c),this.spinner=new Spinner(e),this.container=this.el.parent(),this.setContainerSize(),f=new d,f.onload=function(){return g.hide()},f.src=this.el.attr("src")}return b.prototype.setContainerSize=function(){var a,b;return b=this.el.attr("width")||"100",a=this.el.attr("height")||"100",b=""+b.replace(/px/,"")+"px",a=""+a.replace(/px/,"")+"px",angular.element(this.container).css("width",b).css("height",a).css("position","relative")},b.prototype.show=function(){return this.el.css("display","none"),this.hasSpinner?void 0:(this.spinner.spin(this.container[0]),this.hasSpinner=!0)},b.prototype.hide=function(){return this.hasSpinner&&(this.spinner.stop(),this.hasSpinner=!1),this.el.css("display","block")},b}(),e="spinner-container",g=function(a){return void 0===a||null===a||""===a},h=function(a,b,c){var d,h,i,j,k=this;return d=angular.element("<div>").addClass(e),b.wrap(d),h=angular.element(b),j=c.imageSpinnerSettings,null==j&&(j={}),j=a.$eval(j),this.spinner=new f(h,j),i=function(a){return g(a)||g(h.attr("width"))||g(h.attr("height"))?void 0:k.spinner.show()},a.$watch(function(){return!h.hasClass("ng-hide")},function(a){return null!=a?a?i(h.attr("src")):k.spinner.hide():void 0}),a.$on("$destroy",function(){return this.spinner.hide()}),c.$observe("ng-src",i),c.$observe("src",i)},{link:h}}])}.call(this);